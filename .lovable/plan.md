

# Улучшение UX выбора документов

## Проблема
Текущий флоу требует двух неочевидных действий:
1. Сначала кликнуть кнопку "Documents"
2. Потом найти маленькую стрелку в поле ввода для выбора документов

Пользователь не понимает, что после выбора режима Documents нужно еще где-то искать способ выбрать документы.

## Решение: Единая кнопка Documents с выпадающим списком

Кнопка "Documents" сама становится dropdown-триггером:
- При клике на "Documents" сразу открывается выпадающий список с документами
- После выбора документов - пин появляется в поле ввода автоматически
- Режим Documents активируется автоматически при выборе любого документа

```text
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│              Let's dive into your knowledge                 │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ [Documents ▼] Ask about your documents...      [→]  │   │
│  └────────┬────────────────────────────────────────────┘   │
│           │                                                 │
│           ▼                                                 │
│  ┌────────────────────────┐                                │
│  │ ▸ Research Papers      │  ← Папка (раскрывается)        │
│  │   □ Lithium Battery    │                                │
│  │   ☑ Solid-State...     │  ← Выбранный файл              │
│  │ ▸ Technical Reports    │                                │
│  │ □ Executive Summary    │                                │
│  │ □ Market Analysis      │                                │
│  └────────────────────────┘                                │
│                                                             │
│     ( Research )    ( Agent Mode )                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## Детали реализации

### 1. Новый компонент DocumentSelector
Отдельный компонент-dropdown слева в поле ввода:
- Иконка FileText + "Documents" + ChevronDown
- При клике открывает список документов
- Показывает счетчик выбранных: "Documents (3)"
- Всегда виден (не требует предварительного выбора режима)

### 2. Изменения в Input
- Слева: DocumentSelector dropdown (вместо пина)
- При выборе документов режим "documents" активируется автоматически
- Выбранные документы показываются как pills над полем ввода (как сейчас)

### 3. Упрощенные Mode Buttons
- Кнопка "Documents" убирается из нижней панели (теперь это dropdown в input)
- Остаются только "Research" и "Agent Mode"
- Или: Documents остается, но как быстрый способ открыть dropdown

### 4. Визуальные улучшения
- DocumentSelector выделяется цветом когда есть выбранные документы
- Анимация при открытии/закрытии dropdown
- Чекбоксы для множественного выбора документов


## Технические изменения

### Файлы для изменения:
- `src/pages/Home.tsx` - основная логика и layout
- Создать: `src/components/home/DocumentSelector.tsx` - новый dropdown компонент

### Основные изменения кода:

1. **DocumentSelector компонент:**
   - Использует DropdownMenu из ui/dropdown-menu
   - Props: documents, selectedDocuments, onSelect, onRemove
   - Отображает иерархию папок/файлов с чекбоксами
   - Счетчик выбранных в заголовке

2. **Home.tsx:**
   - DocumentSelector размещается внутри Input слева
   - Убрать отдельную логику показа dropdown только при activeMode === 'documents'
   - Автоматически устанавливать activeMode = 'documents' при выборе документа

